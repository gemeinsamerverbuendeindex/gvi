<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="init" name="Targets to index B3KAT data">

   <import file="gvi-solrmarc-ant.xml" />

   <!-- Die Variablen definieren. -->
   <target name="init">
      <property name="data.collection" value="B3KAT" />
      <property name="base.dir" location="/data/input/gvi/kobv_b3_kat/current" />
      <property name="full.dir" location="${base.dir}/full" />
      <property name="full.work.dir" location="${full.dir}/work" />
      <property name="full.log.dir" location="${full.dir}/log" />
      <property name="update.base.dir" location="${base.dir}/update" />
      <property name="update.dir" location="${update.base.dir}${DSTAMP}" />
      <property name="update.work.dir" location="${update.base.dir}/work" />
      <property name="update.log.dir" location="${update.base.dir}/log" />
   </target>

   <!-- Get Raw Data from FTP server and patch 'del' files -->
   <target name="download-updates-b3kat" depends="init">
      <fail> Unimplemented </fail>
   </target>

   <!-- Process current data set -->
   <target name="index-new-updates-b3kat" depends="download-updates-b3kat" if="updates.found">
      <fail> Unimplemented </fail>
   </target>

   <!-- Collect data sets and process them all together -->
   <target name="index-all-updates-b3kat" depends="init">
      <fail> Unimplemented </fail>
   </target>

   <!-- Komplettabzug und Updates indexieren -->
   <target name="index-all-b3kat" depends="init,init-index-date-for-delete">
      <process_full />
      <antcall target="index-all-updates-b3kat" />
      <antcall target="delete-by-collection-and-index-date" />
   </target>

   <!-- Nur den Komplettabzug indexieren -->
   <target name="index-onlyFull-b3kat" depends="init,init-index-date-for-delete">
   	<solrmarc-index-dir src="${full.dir}" logdir="${full.log.dir}" suffix=".xml" basename="full"/>
   </target>

</project>
